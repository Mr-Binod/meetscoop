<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>동호회 추가페이지</title>
    <link rel="stylesheet" href="/public/css/club/add_club.css">
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
</head>
<body>
    <%- include("../common/header", {data}) %>
    <div id="Popupwrap">
        <div class="Popup">           
            <span>동호회가 생성 되었습니다</span>
            <a href="/mypage"><button>확인</button> </a>
        </div>
    </div>
    <div id="Popupwraperror">
        <div class="Popuperror">           
            <span>동호회 생성 중 오류가 발생했습니다.</span>
            <a href="/clubs/create"><button>확인</button> </a>
        </div>
    </div>
    <div id="Popupwrap_empty">
        <div class="Popup_empty">           
            <span>모든 필드를 입력해주세요</span>
            <a href="/clubs/create"><button>확인</button> </a>
        </div>
    </div>
    <div class = "main-content"> 
        <div id = "club-form">
            <div class = "form-header">
                <h2 class = "form-title">새 동호회 정보 입력</h2>
                <p class = "form-information"> 새로운 동호회를 생성하여 같은 관심사를 가진 사람들과 함께하세요! </p>
            </div>
            
            <form>
                <div class = "addFrom-group">
                    <label class = "label required">동호회 이름</label>
                    <input type="text" class = "form-input" id = "club_name" placeholder="동호회 이름을 알려주세요." required>
                </div>
                <div class = "addFrom-group">
                    <label class = "label required">동호회 설명</label>
                    <textarea class = "form-input-txtarea" id="club_information" placeholder="동호회에 대한 설명을 해주세요."></textarea>
                </div>
                <div class = "addFrom-group">
                    <label class = "label required">동호회 대표 이미지 (4:3 비율)</label>
                    <div class = "form-container">
                        <div class = "image-upload">
                            <div class = "upload-icon" id = "icon">📷</div>
                            <p class = "upload-info" id ="upload_info">이미지를 클릭하여 업로드하세요.(미선택시 기본 이미지가 제공됩니다.)</p>
                            <input type="file" id = "club_image">
                        </div>
                    </div>
                </div>
                <div class = "addFrom-group">
                    <label class="label">태그</label>
                    <div class = "add-tag">           
                        <input type="text" class = "tag-input" id = "club_tags", placeholder="태그를 입력하고 Enter를 누르세요">
                    </div>
                </div>
                <div class = "addFrom-group">
                    <input type="hidden" name="main_category_id" id="main_category_id">
                    <input type="hidden" name="sub_category_name" id="sub_category_name">
                    <input type="hidden" name="sub_category_id" id="sub_category_id">

                    <label class = "label required">카테고리 선택</label>
                    <div class ="category-container">
                        <div class = "main-category">
                            <label class = "main-category-text">대표 카테고리</label>
                        </div>
                        <select class = "category-select" id="club_category" required>
                            <option value="" >대표 카테고리를 선택하세요</option>
                        </select>
                        <div class = "sub-category">
                            <label class = "sub-category-text">세부카테고리</label>
                            <div class = "sub-category-box">
                                <div class = "sub-category-cardBox">
                                </div>
                            </div>
                        </div>
                        <div class = "selected-categories">
                            <label class = "selected-categories-text">선택된 카테고리</label>
                        </div>
                        <div class = "selected-categories-container">
                            <span class = "selected-main-category"></span>
                            <span style="font-size: 1.2em;">›</span>
                            <span class = "selected-sub-category"></span>
                        </div>
                    </div>
                </div>
                <div class = "addFrom-group">
                    <label class = "label required">멤버 정원</label>
                    <div class = "member-container">
                        <input type="number" class="memeber-input" min="2" placeholder="최대 인원수를 입력하세요." required >
                        <span style="color:#666">명</span>
                    </div>
                    <p class = "member-noti">최소 2명 이상 입력해주세요.</p>
                </div>
                <div class="addFrom-group">
                    <label class="label required">활동 범위</label>
                
                    <div>
                    <label><input type="radio" name="range_type" value="local" checked> 지역단위 (지하철 기준)</label>
                    <label><input type="radio" name="range_type" value="wide"> 광역단위 (시/구/군 기준)</label>
                    </div>
                
                    <div id="local-range-section" style="margin-top:10px;">
                    <div class="relative-wrapper">
                        <input type="text" id="subway_search" class="form-input" placeholder="지하철역 이름을 입력하세요">
                        <ul id="subway-suggestions" class="suggestions-list"></ul>
                    </div>
                    </div>
                
                    <div id="wide-range-section" style="margin-top:10px; display:none;">
                    <div class="relative-wrapper">
                        <input type="text" id="district-search" class="form-input" placeholder="구 또는 군을 검색하세요 (최대 3개)">
                        <ul id="district-suggestions" class="suggestions-list"></ul>
                    </div>
                    <div id="selected-districts" class="selected-districts"></div>
                    </div>
                </div>
                

                <div class="addForm-btn-container">
                    <button type="button" class="btn btn-cancel" id="cancel_btn">취소</button>
                    <button  type="button" class="btn btn-ok" id = "ok_btn">동호회 생성하기</button>
                </div>
            </form>
        </div>
    </div>
    <script src="/public/script/club/add_club.js"></script>
</body>
</html>